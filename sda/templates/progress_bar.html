{# sda/templates/progress_bar.html #}
{# Expects unique_prefix, task_name, progress, message variables #}
<div class="w-full my-1 p-2 bg-gray-100 dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600">
    <div class="flex justify-between items-center mb-0.5">
        <span id="{{ unique_prefix }}-task-name" class="text-xs font-semibold text-gray-700 dark:text-gray-300 truncate pr-2" title="{{ task_name }}">{{ task_name }}</span>
        <span id="{{ unique_prefix }}-progress-percentage" class="text-xxs font-medium text-gray-500 dark:text-gray-400 whitespace-nowrap">{{ "%.0f"|format(progress) }}%</span>
    </div>
    <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 overflow-hidden"> {# Made bar thinner (h-2) #}
        <div id="{{ unique_prefix }}-progress-bar" class="bg-blue-500 h-2 rounded-full transition-width duration-300 ease-out"
             style="width: {{ progress }}%">
        </div>
    </div>
    {% if message %}
    <div id="{{ unique_prefix }}-progress-message" class="mt-0.5 text-xxs text-gray-500 dark:text-gray-400 italic truncate" title="{{ message }}">{{ message }}</div>
    {% endif %}
</div>
