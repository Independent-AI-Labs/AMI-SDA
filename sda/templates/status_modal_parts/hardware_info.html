{# sda/templates/status_modal_parts/hardware_info.html #}
<div class="bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 mb-6">
    <h4 class="text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200"><i class="fas fa-server mr-2 text-blue-500"></i>System & Worker Information</h4>

    <p class="text-gray-700 dark:text-gray-300 mb-1"><i class="fas fa-microchip mr-2 text-gray-500"></i><strong>Logical CPUs:</strong> {{ num_cpus }}</p>
    <p class="text-gray-700 dark:text-gray-300 mb-1"><i class="fas fa-tachometer-alt mr-2 text-gray-500"></i><strong>Current CPU Load:</strong> {{ "%.1f"|format(cpu_load) }}%</p>
    <p class="text-gray-700 dark:text-gray-300 mb-3"><i class="fas fa-memory mr-2 text-gray-500"></i><strong>RAM Usage:</strong> {{ "%.2f"|format(ram_used_gb) }} GB / {{ "%.2f"|format(ram_total_gb) }} GB ({{ "%.1f"|format(ram_percent_used) }}%)</p>

    {% if torch_available and cuda_available %}
        <p class="text-gray-700 dark:text-gray-300 mb-1"><i class="fas fa-tv mr-2 text-gray-500"></i><strong>CUDA Version:</strong> {{ cuda_version }}</p>
        <p class="text-gray-700 dark:text-gray-300 mb-1"><i class="fas fa-desktop mr-2 text-gray-500"></i><strong>Available GPUs:</strong> {{ num_gpus }}</p>
        <ul class="list-disc list-inside pl-4 mb-3">
        {% for i in range(num_gpus) %}
            <li class="text-sm text-gray-600 dark:text-gray-400">GPU {{ i }}: {{ gpu_names[i] }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <p class="text-gray-700 dark:text-gray-300 mb-3"><i class="fas fa-tv-alt mr-2 text-gray-500"></i><strong>GPU:</strong> CUDA not available or PyTorch not installed with CUDA support.</p>
    {% endif %}

    <p class="text-gray-700 dark:text-gray-300 mb-1"><i class="fas fa-users-cog mr-2 text-gray-500"></i><strong>Total Allowed Application Workers:</strong> {{ total_allowed_workers }}</p>
    <div class="mt-2">
        <p class="text-gray-700 dark:text-gray-300 font-medium">Worker Pool Configuration:</p>
        <ul class="list-disc list-inside pl-4">
            {% for target, num_w in db_workers_per_target.items() %}
            <li class="text-sm text-gray-600 dark:text-gray-400">{{ target|capitalize }} Workers: {{ num_w }}</li>
            {% endfor %}
            <li class="text-sm text-gray-600 dark:text-gray-400">Embedding Workers: {{ max_embedding_workers }}</li>
        </ul>
    </div>
</div>
